<base-dialog [isOpen]="isOpen"
             [title]="title" 
             [context]="context">

    <form [formGroup]="iterationForm" (ngSubmit)="onFormSubmit()">
        <label class="form-label">
            <span class="form-label-title">Iteration Title</span>
            <span class="form-label-subtext">You can call your new iteration anything.</span>

            <div *ngIf="title.invalid && title.touched" class="form-label-error" role="alert">
                <div *ngIf="title.errors?.required">
                    Title field can't be blank
                </div>
            </div>

            <div *ngIf="serverErrors.error" class="form-label-error" role="alert">
                <div *ngIf="serverErrors.error.error">
                    Something has went wrong. Please try again later.
                </div>
            </div>

            <input type="text" class="form-input" formControlName="title">
        </label>

        <!-- <label class="form-label">
            <span class="form-label-title">Start Date</span>
            <span class="form-label-subtext">The date the iteration is set to begin.</span>
            
            <input type="date" class="form-input" formControlName="start_date">
        </label>
        
        <label class="form-label">
            <span class="form-label-title">Due Date</span>
            <span class="form-label-subtext">The date the iteration is set to conclude.</span>
            
            <input type="date" class="form-input" formControlName="due_date">
        </label> -->

        <!-- TODO: add loading spinner -->
        <input type="submit" 
               class="btn form-btn" 
               value="Create" 
               [ngClass]="{ 'btn--disabled': isPerformingAPICall }"
               [disabled]="isPerformingAPICall">
    </form>

</base-dialog>